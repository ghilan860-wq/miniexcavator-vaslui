<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Mini Excavator Vaslui | Fose septice, fundaÈ›ii, È™anÈ›uri</title>
  <meta name="description" content="PrestÄƒri servicii mini excavator Ã®n Vaslui È™i Ã®mprejurimi. ExecutÄƒm fose septice, fundaÈ›ii, È™anÈ›uri. SunÄƒ acum: 0771 460 698" />

  <link rel="preload" as="image" href="poze/fundal.jpg" />
  <link rel="preload" as="image" href="poze/lucrare1.jpg" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Mini Excavator Vaslui",
    "telephone": "+40771460698",
    "areaServed": ["Vaslui", "JudeÈ›ul Vaslui"],
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Vaslui",
      "addressRegion": "VS",
      "addressCountry": "RO"
    },
    "url": "",
    "sameAs": [],
    "description": "Servicii mini excavator Ã®n Vaslui È™i Ã®mprejurimi: fose septice, fundaÈ›ii, È™anÈ›uri pentru utilitÄƒÈ›i."
  }
  </script>

  <style>
    :root{
      --bg: rgba(0, 0, 0, 0.62);
      --bg2: rgba(0, 0, 0, 0.68);
      --card: rgba(0, 0, 0, 0.55);
      --text: #ffffff;
      --muted: #e5e7eb;
      --green: #22c55e;
      --green2:#16a34a;
      --red: #ff2b2b;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --max: 1100px;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      background-image: url("poze/fundal.jpg");
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: var(--text);
    }

    header.hero{ background: var(--card); }
    @supports ((-webkit-backdrop-filter: blur(6px)) or (backdrop-filter: blur(6px))) {
      header.hero{
        background: rgba(0,0,0,.52);
        -webkit-backdrop-filter: blur(6px);
        backdrop-filter: blur(6px);
      }
    }

    section, header {
      max-width: var(--max);
      margin: 30px auto;
      padding: 30px 20px;
      background: var(--bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    header.hero { text-align: center; }

    .top-nav{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      justify-content:center;
      margin: 0 0 14px;
      font-size: 15px;
    }
    .top-nav a{
      color: var(--muted);
      text-decoration: none;
      border-bottom: 1px solid rgba(255,255,255,.25);
      padding-bottom: 2px;
    }
    .top-nav a:hover{ color:#fff; border-bottom-color:#fff; }

    h1 { font-size: 34px; margin: 0 0 10px; }
    h2 { font-size: 26px; margin: 0 0 15px; }
    p { font-size: 18px; line-height: 1.6; margin: 0 0 12px; }
    ul { line-height: 1.8; padding-left: 20px; margin: 0; }

    img { max-width: 100%; height: auto; border-radius: 10px; }

    .cta-row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 18px;
    }

    .btn {
      display: inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 14px 22px;
      border-radius: 10px;
      font-weight: 800;
      text-decoration: none;
      font-size: 18px;
      border: 0;
      cursor: pointer;
      transition: transform .08s ease, background .12s ease, box-shadow .12s ease;
      outline: none;
      line-height: 1;
    }
    .btn:focus-visible{ box-shadow: 0 0 0 3px rgba(34,197,94,.35); }
    .btn-primary{ background: var(--green); color: #fff; }
    .btn-primary:hover{ background: var(--green2); transform: translateY(-1px); }
    .btn-ghost{ background: rgba(255,255,255,.12); color:#fff; }
    .btn-ghost:hover{ background: rgba(255,255,255,.18); transform: translateY(-1px); }

    .badges{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top: 10px;
      font-size: 14px;
      color: var(--muted);
    }
    .badge{
      background: rgba(255,255,255,.10);
      padding: 8px 12px;
      border-radius: 999px;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
      align-items:start;
    }

    .card{
      background: rgba(255,255,255,.08);
      border-radius: 14px;
      padding: 16px;
    }

    .preturi { background: var(--bg2); }
    .pret-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 18px 0;
      border-bottom: 1px solid rgba(255,255,255,0.25);
      gap: 12px;
    }
    .pret-item:last-child { border-bottom: none; }
    .pret-item h3 { margin: 0; font-size: 20px; }
    .pret { font-size: 24px; font-weight: 900; color: var(--red); }
    small{ color: var(--muted); display:block; margin-top: 12px; }

    .gallery{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 14px;
    }
    .gallery img{ border-radius: 10px; }

    .map iframe {
      width: 100%;
      height: 350px;
      border: 0;
      border-radius: 10px;
      margin-top: 15px;
    }

    footer { text-align: center; padding: 20px; color: #ddd; }

    .whatsapp-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25D366;
      color: white;
      padding: 14px 18px;
      border-radius: 999px;
      font-weight: 900;
      text-decoration: none;
      box-shadow: 0 10px 20px rgba(0,0,0,0.35);
      z-index: 999;
    }
    .whatsapp-button:focus-visible{ outline: 3px solid rgba(37,211,102,.45); }

    .sticky-bar{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      display:none;
      gap:10px;
      padding: 10px;
      background: rgba(0,0,0,.78);
      -webkit-backdrop-filter: blur(8px);
      backdrop-filter: blur(8px);
      z-index: 1000;
      border-top: 1px solid rgba(255,255,255,.12);
    }
    .sticky-bar a, .sticky-bar button{ flex: 1; text-align:center; }

    /* ====== MVP FORM MODAL ====== */
    .modal-backdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.6);
      display: none;
      z-index: 2000;
      padding: 18px;
    }
    .modal-backdrop.show{ display: grid; place-items: center; }

    .modal{
      width: min(720px, 100%);
      background: rgba(0,0,0,.82);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      box-shadow: 0 20px 50px rgba(0,0,0,.55);
      overflow: hidden;
    }
    .modal-header{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
    }
    .modal-title{
      margin: 0;
      font-size: 18px;
      font-weight: 900;
    }
    .icon-btn{
      background: transparent;
      border: 0;
      color: #fff;
      font-size: 22px;
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 10px;
    }
    .icon-btn:hover{ background: rgba(255,255,255,.10); }

    .modal-body{ padding: 16px; }

    .form-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .form-row{ display:flex; flex-direction: column; gap: 6px; }
    label{ font-size: 14px; color: var(--muted); }
    input, select, textarea{
      width: 100%;
      padding: 12px 12px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.15);
      background: rgba(255,255,255,.08);
      color: #fff;
      outline: none;
      font-size: 15px;
    }
    textarea{ min-height: 92px; resize: vertical; }

    input:focus, select:focus, textarea:focus{
      border-color: rgba(34,197,94,.6);
      box-shadow: 0 0 0 3px rgba(34,197,94,.22);
    }

    .form-actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      margin-top: 14px;
    }

    .status{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 12px;
      display: none;
      font-size: 14px;
    }
    .status.ok{ display:block; background: rgba(34,197,94,.18); border: 1px solid rgba(34,197,94,.35); }
    .status.err{ display:block; background: rgba(255,43,43,.14); border: 1px solid rgba(255,43,43,.28); }

    @media (max-width: 900px){
      .grid-2{ grid-template-columns: 1fr; }
      .gallery{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 768px) {
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      p  { font-size: 16px; }
      .pret-item { flex-direction: column; align-items: flex-start; }
      section, header { margin: 15px 10px; padding: 20px 15px; }
      .sticky-bar{ display:flex; }
      body{ padding-bottom: 68px; }
      .form-grid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>

<header class="hero" id="top">
  <nav class="top-nav" aria-label="NavigaÈ›ie">
    <a href="#servicii">Servicii</a>
    <a href="#preturi">PreÈ›uri</a>
    <a href="#lucrari">LucrÄƒri</a>
    <a href="#recenzii">Recenzii</a>
    <a href="#contact">Contact</a>
    <a href="#zona">Zona</a>
  </nav>

  <h1>Mini Excavator Vaslui â€“ Disponibil Azi</h1>
  <p>Fose septice â€¢ FundaÈ›ii â€¢ È˜anÈ›uri â€¢ LucrÄƒri rapide È™i corecte</p>

  <div class="badges">
    <span class="badge">ğŸ“ Vaslui & Ã®mprejurimi</span>
    <span class="badge">â± RÄƒspundem rapid la telefon/WhatsApp</span>
    <span class="badge">ğŸ’¬ OfertÄƒ pe loc (Ã®n funcÈ›ie de lucrare)</span>
  </div>

  <div class="cta-row">
    <a href="tel:0771460698" class="btn btn-primary" aria-label="SunÄƒ acum la 0771 460 698">ğŸ“ SunÄƒ acum</a>
    <button type="button" class="btn btn-ghost" id="openOfferTop" aria-label="Cere ofertÄƒ prin formular">ğŸ§¾ Cere ofertÄƒ (formular)</button>
  </div>
</header>

<section id="servicii">
  <h2>Serviciile noastre</h2>

  <div class="grid-2">
    <div class="card">
      <ul>
        <li><strong>ExecuÈ›ie fose septice</strong> (cu / fÄƒrÄƒ drenaj)</li>
        <li><strong>FundaÈ›ii</strong> pentru construcÈ›ii</li>
        <li><strong>È˜anÈ›uri pentru utilitÄƒÈ›i</strong> (apÄƒ, canal, cabluri)</li>
        <li><strong>LucrÄƒri cu mini excavator</strong> diverse</li>
      </ul>
    </div>

    <div class="card">
      <h3 style="margin:0 0 10px;">De ce noi</h3>
      <ul>
        <li>LucrÄƒm <strong>rapid</strong> È™i <strong>curat</strong></li>
        <li>PreÈ› <strong>corect</strong> + estimare Ã®nainte</li>
        <li>Ne adaptÄƒm accesului din curte/teren</li>
        <li>ProgramÄƒri flexibile</li>
      </ul>
    </div>
  </div>

  <div class="cta-row">
    <button type="button" class="btn btn-primary" id="openOfferServices">ğŸ§¾ Cere ofertÄƒ (formular)</button>
    <a href="#preturi" class="btn btn-ghost">Vezi preÈ›uri</a>
  </div>
</section>

<section>
  <h2>Mini Excavator Vaslui â€“ servicii profesionale</h2>
  <p>
    Oferim servicii cu mini excavator Ã®n Vaslui È™i localitÄƒÈ›ile din apropiere.
    ExecutÄƒm fose septice cu sau fÄƒrÄƒ drenaj, fundaÈ›ii pentru construcÈ›ii,
    È™anÈ›uri pentru utilitÄƒÈ›i È™i alte lucrÄƒri de sÄƒpÄƒturÄƒ.
    LucrÄƒm rapid, curat È™i la preÈ› corect.
  </p>
  <p style="color:var(--muted); margin-top:10px;">
    Program orientativ: <strong>Luniâ€“SÃ¢mbÄƒtÄƒ 08:00â€“19:00</strong>. (SunÄƒ pentru confirmare.)
  </p>
</section>

<section id="lucrari">
  <h2>LucrÄƒri realizate</h2>

  <div style="max-width:420px; margin:auto;">
    <img id="slider" src="poze/lucrare1.jpg" alt="Lucrare mini excavator Ã®n Vaslui" loading="eager">
  </div>

  <div class="gallery" aria-label="Galerie lucrÄƒri">
    <img src="poze/lucrare1.jpg" alt="Lucrare 1 mini excavator" loading="lazy">
    <img src="poze/lucrare2.jpg" alt="Lucrare 2 mini excavator" loading="lazy">
    <img src="poze/lucrare4.jpg" alt="Lucrare 3 mini excavator" loading="lazy">
    <img src="poze/lucrare5.jpg" alt="Lucrare 4 mini excavator" loading="lazy">
  </div>

  <small>Tip: dacÄƒ vrei sÄƒ creÈ™ti pe Google, poÈ›i face pagini separate pentru fiecare serviciu (fosa-septica.html, santuri.html, fundatii.html).</small>
</section>

<section class="preturi" id="preturi">
  <h2>PreÈ›uri</h2>

  <div class="pret-item">
    <h3>ExcavÄƒri cu mini excavator</h3>
    <span class="pret">150 lei / orÄƒ</span>
  </div>

  <div class="pret-item">
    <h3>FosÄƒ septicÄƒ (2000â€“3500 kg) â€“ fÄƒrÄƒ drenaj</h3>
    <span class="pret">1500 lei</span>
  </div>

  <div class="pret-item">
    <h3>FosÄƒ septicÄƒ (2000â€“3500 kg) â€“ cu drenaj</h3>
    <span class="pret">2500 lei</span>
  </div>

  <small>* PreÈ›urile pot varia Ã®n funcÈ›ie de lucrare È™i accesul la locaÈ›ie.</small>

  <div class="cta-row">
    <a href="tel:0771460698" class="btn btn-primary">ğŸ“ ConfirmÄƒ un preÈ›</a>
    <button type="button" class="btn btn-ghost" id="openOfferPrices">ğŸ§¾ Cere ofertÄƒ (formular)</button>
  </div>
</section>

<section id="recenzii">
  <h2>Ce spun clienÈ›ii</h2>
  <div class="grid-2">
    <div class="card">
      <p style="margin:0;"><strong>â€Rapid È™i curat, a ieÈ™it È™anÈ›ul perfect.â€</strong></p>
      <p style="margin:8px 0 0; color:var(--muted);">â€” Client, Vaslui</p>
    </div>
    <div class="card">
      <p style="margin:0;"><strong>â€PreÈ› corect, comunicare bunÄƒ, recomand.â€</strong></p>
      <p style="margin:8px 0 0; color:var(--muted);">â€” Client, Ã®mprejurimi</p>
    </div>
  </div>
  <small>DacÄƒ ai link de Google Business Profile, Ã®l punem aici pentru recenzii reale + buton â€LasÄƒ o recenzieâ€.</small>
</section>

<section id="contact">
  <h2>Contact</h2>
  <p>Pentru detalii È™i programÄƒri:</p>

  <div class="cta-row">
    <a class="btn btn-primary" href="tel:0771460698" aria-label="SunÄƒ la 0771 460 698">ğŸ“ 0771 460 698</a>
    <button type="button" class="btn btn-ghost" id="openOfferContact" aria-label="Cere ofertÄƒ prin formular">ğŸ§¾ Cere ofertÄƒ (formular)</button>
  </div>

  <small>RÄƒspuns rapid Ã®n timpul programului. DacÄƒ nu rÄƒspundem, revenim.</small>
</section>

<section id="zona">
  <h2>Zona de lucru</h2>
  <p style="color:var(--muted); margin-bottom:10px;">Vaslui + localitÄƒÈ›i din apropiere.</p>
  <div class="map">
    <iframe
      title="HartÄƒ zona de lucru Vaslui"
      src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d36855.51373695206!2d27.682290092988712!3d46.64054135137226!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfr!2sro!4v1770402271904!5m2!1sfr!2sro"
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</section>

<footer>
  <p>Â© 2026 MiniExcavator Vaslui | Toate drepturile rezervate</p>
</footer>

<!-- Sticky bar (mobil) -->
<div class="sticky-bar" role="navigation" aria-label="AcÈ›iuni rapide">
  <a href="tel:0771460698" class="btn btn-primary" aria-label="SunÄƒ acum">ğŸ“ SunÄƒ</a>
  <button type="button" class="btn btn-ghost" id="openOfferSticky" aria-label="Cere ofertÄƒ prin formular">ğŸ§¾ OfertÄƒ</button>
</div>

<a href="https://wa.me/40771460698" class="whatsapp-button" target="_blank" rel="noopener" aria-label="Contact WhatsApp">WhatsApp</a>

<!-- ====== MODAL: CERERE OFERTÄ‚ (MVP) ====== -->
<div class="modal-backdrop" id="offerModal" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="offerTitle">
    <div class="modal-header">
      <h3 class="modal-title" id="offerTitle">Cere ofertÄƒ</h3>
      <button class="icon-btn" type="button" id="closeOffer" aria-label="Ãnchide">âœ•</button>
    </div>

    <div class="modal-body">
      <form id="offerForm" autocomplete="on">
        <div class="form-grid">
          <div class="form-row">
            <label for="nume">Nume</label>
            <input id="nume" name="nume" type="text" placeholder="Ex: Andrei" />
          </div>

          <div class="form-row">
            <label for="telefon">Telefon (obligatoriu)</label>
            <input id="telefon" name="telefon" type="tel" required placeholder="Ex: 0771 460 698" />
          </div>

          <div class="form-row">
            <label for="localitate">Localitate</label>
            <input id="localitate" name="localitate" type="text" placeholder="Ex: Vaslui / suburbie" />
          </div>

          <div class="form-row">
            <label for="serviciu">Serviciu</label>
            <select id="serviciu" name="serviciu">
              <option value="FosÄƒ septicÄƒ">FosÄƒ septicÄƒ</option>
              <option value="FundaÈ›ie">FundaÈ›ie</option>
              <option value="È˜anÈ› utilitÄƒÈ›i">È˜anÈ› utilitÄƒÈ›i</option>
              <option value="Nivelare / sÄƒpÄƒturÄƒ">Nivelare / sÄƒpÄƒturÄƒ</option>
              <option value="Altceva">Altceva</option>
            </select>
          </div>

          <div class="form-row">
            <label for="lungime">Lungime (m)</label>
            <input id="lungime" name="lungime" type="number" step="0.1" min="0" placeholder="Ex: 20" />
          </div>

          <div class="form-row">
            <label for="latime">LÄƒÈ›ime (m)</label>
            <input id="latime" name="latime" type="number" step="0.1" min="0" placeholder="Ex: 0.5" />
          </div>

          <div class="form-row">
            <label for="adancime">AdÃ¢ncime (m)</label>
            <input id="adancime" name="adancime" type="number" step="0.1" min="0" placeholder="Ex: 1.2" />
          </div>

          <div class="form-row">
            <label for="cand">CÃ¢nd doriÈ›i lucrarea?</label>
            <input id="cand" name="cand" type="text" placeholder="Ex: mÃ¢ine / weekend / data..." />
          </div>
        </div>

        <div class="form-row" style="margin-top:12px;">
          <label for="detalii">Detalii lucrare</label>
          <textarea id="detalii" name="detalii" placeholder="Ex: acces Ã®ngust, teren moale, poartÄƒ 1m, etc."></textarea>
        </div>

        <input type="hidden" id="pageUrl" name="pageUrl" value="">
        <input type="hidden" id="ts" name="ts" value="">

        <div class="form-actions">
          <button type="button" class="btn btn-ghost" id="sendWhatsFallback">Trimite pe WhatsApp</button>
          <button type="submit" class="btn btn-primary" id="submitOffer">Trimite cererea</button>
        </div>

        <div class="status" id="offerStatus" aria-live="polite"></div>
      </form>

      <small style="margin-top:10px;">
        Date insuficiente pentru a verifica: trimiterea cÄƒtre Google Sheets funcÈ›ioneazÄƒ doar dupÄƒ ce setezi endpoint-ul Apps Script.
      </small>
    </div>
  </div>
</div>

<script>
  // ====== Slider ======
  const imagini = [
    "poze/lucrare1.jpg",
    "poze/lucrare2.jpg",
    "poze/lucrare4.jpg",
    "poze/lucrare5.jpg"
  ];
  let index = 0;
  const slider = document.getElementById("slider");
  function prefetchNext(nextSrc){
    const img = new Image();
    img.src = nextSrc;
  }
  prefetchNext(imagini[1]);
  setInterval(() => {
    slider.style.opacity = 0;
    setTimeout(() => {
      index = (index + 1) % imagini.length;
      slider.src = imagini[index];
      const next = imagini[(index + 1) % imagini.length];
      prefetchNext(next);
      slider.style.opacity = 1;
    }, 450);
  }, 3200);

  // ====== MVP OFFER MODAL + SUBMIT TO GOOGLE SHEETS (APPS SCRIPT) ======
  // 1) DupÄƒ deploy Apps Script, pune aici URL-ul Web App (se terminÄƒ de obicei Ã®n /exec)
  const ENDPOINT_URL = "<https://script.google.com/macros/s/AKfycbyVNVotaeW1ypfPOUmN8nkwUTOSVwDM6UWj0L6N8msrbGh5TR5JdPOF_3XrjjrLOmVLCA/exec>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <title>Mini Excavator Vaslui | Fose septice, fundaÈ›ii, È™anÈ›uri</title>
  <meta name="description" content="PrestÄƒri servicii mini excavator Ã®n Vaslui È™i Ã®mprejurimi. ExecutÄƒm fose septice, fundaÈ›ii, È™anÈ›uri. SunÄƒ acum: 0771 460 698" />

  <link rel="preload" as="image" href="poze/fundal.jpg" />
  <link rel="preload" as="image" href="poze/lucrare1.jpg" />

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Mini Excavator Vaslui",
    "telephone": "+40771460698",
    "areaServed": ["Vaslui", "JudeÈ›ul Vaslui"],
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Vaslui",
      "addressRegion": "VS",
      "addressCountry": "RO"
    },
    "url": "",
    "sameAs": [],
    "description": "Servicii mini excavator Ã®n Vaslui È™i Ã®mprejurimi: fose septice, fundaÈ›ii, È™anÈ›uri pentru utilitÄƒÈ›i."
  }
  </script>

  <style>
    :root{
      --bg: rgba(0, 0, 0, 0.62);
      --bg2: rgba(0, 0, 0, 0.68);
      --card: rgba(0, 0, 0, 0.55);
      --text: #ffffff;
      --muted: #e5e7eb;
      --green: #22c55e;
      --green2:#16a34a;
      --red: #ff2b2b;
      --radius: 16px;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --max: 1100px;
    }

    * { box-sizing: border-box; }
    html { scroll-behavior: smooth; }
    body {
      margin: 0;
      font-family: Arial, Helvetica, sans-serif;
      background-image: url("poze/fundal.jpg");
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: var(--text);
    }

    header.hero{ background: var(--card); }
    @supports ((-webkit-backdrop-filter: blur(6px)) or (backdrop-filter: blur(6px))) {
      header.hero{
        background: rgba(0,0,0,.52);
        -webkit-backdrop-filter: blur(6px);
        backdrop-filter: blur(6px);
      }
    }

    section, header {
      max-width: var(--max);
      margin: 30px auto;
      padding: 30px 20px;
      background: var(--bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    header.hero { text-align: center; }

    .top-nav{
      display:flex;
      gap:14px;
      flex-wrap:wrap;
      justify-content:center;
      margin: 0 0 14px;
      font-size: 15px;
    }
    .top-nav a{
      color: var(--muted);
      text-decoration: none;
      border-bottom: 1px solid rgba(255,255,255,.25);
      padding-bottom: 2px;
    }
    .top-nav a:hover{ color:#fff; border-bottom-color:#fff; }

    h1 { font-size: 34px; margin: 0 0 10px; }
    h2 { font-size: 26px; margin: 0 0 15px; }
    p { font-size: 18px; line-height: 1.6; margin: 0 0 12px; }
    ul { line-height: 1.8; padding-left: 20px; margin: 0; }

    img { max-width: 100%; height: auto; border-radius: 10px; }

    .cta-row{
      display:flex;
      gap:12px;
      justify-content:center;
      flex-wrap:wrap;
      margin-top: 18px;
    }

    .btn {
      display: inline-flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      padding: 14px 22px;
      border-radius: 10px;
      font-weight: 800;
      text-decoration: none;
      font-size: 18px;
      border: 0;
      cursor: pointer;
      transition: transform .08s ease, background .12s ease, box-shadow .12s ease;
      outline: none;
      line-height: 1;
    }
    .btn:focus-visible{ box-shadow: 0 0 0 3px rgba(34,197,94,.35); }
    .btn-primary{ background: var(--green); color: #fff; }
    .btn-primary:hover{ background: var(--green2); transform: translateY(-1px); }
    .btn-ghost{ background: rgba(255,255,255,.12); color:#fff; }
    .btn-ghost:hover{ background: rgba(255,255,255,.18); transform: translateY(-1px); }

    .badges{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      justify-content:center;
      margin-top: 10px;
      font-size: 14px;
      color: var(--muted);
    }
    .badge{
      background: rgba(255,255,255,.10);
      padding: 8px 12px;
      border-radius: 999px;
    }

    .grid-2{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
      align-items:start;
    }

    .card{
      background: rgba(255,255,255,.08);
      border-radius: 14px;
      padding: 16px;
    }

    .preturi { background: var(--bg2); }
    .pret-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 18px 0;
      border-bottom: 1px solid rgba(255,255,255,0.25);
      gap: 12px;
    }
    .pret-item:last-child { border-bottom: none; }
    .pret-item h3 { margin: 0; font-size: 20px; }
    .pret { font-size: 24px; font-weight: 900; color: var(--red); }
    small{ color: var(--muted); display:block; margin-top: 12px; }

    .gallery{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin-top: 14px;
    }
    .gallery img{ border-radius: 10px; }

    .map iframe {
      width: 100%;
      height: 350px;
      border: 0;
      border-radius: 10px;
      margin-top: 15px;
    }

    footer { text-align: center; padding: 20px; color: #ddd; }

    .whatsapp-button {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #25D366;
      color: white;
      padding: 14px 18px;
      border-radius: 999px;
      font-weight: 900;
      text-decoration: none;
      box-shadow: 0 10px 20px rgba(0,0,0,0.35);
      z-index: 999;
    }
    .whatsapp-button:focus-visible{ outline: 3px solid rgba(37,211,102,.45); }

    .sticky-bar{
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      display:none;
      gap:10px;
      padding: 10px;
      background: rgba(0,0,0,.78);
      -webkit-backdrop-filter: blur(8px);
      backdrop-filter: blur(8px);
      z-index: 1000;
      border-top: 1px solid rgba(255,255,255,.12);
    }
    .sticky-bar a, .sticky-bar button{ flex: 1; text-align:center; }

    /* ====== MVP FORM MODAL ====== */
    .modal-backdrop{
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,.6);
      display: none;
      z-index: 2000;
      padding: 18px;
    }
    .modal-backdrop.show{ display: grid; place-items: center; }

    .modal{
      width: min(720px, 100%);
      background: rgba(0,0,0,.82);
      border: 1px solid rgba(255,255,255,.12);
      border-radius: 16px;
      box-shadow: 0 20px 50px rgba(0,0,0,.55);
      overflow: hidden;
    }
    .modal-header{
      display:flex;
      justify-content: space-between;
      align-items:center;
      gap: 10px;
      padding: 14px 16px;
      border-bottom: 1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
    }
    .modal-title{
      margin: 0;
      font-size: 18px;
      font-weight: 900;
    }
    .icon-btn{
      background: transparent;
      border: 0;
      color: #fff;
      font-size: 22px;
      cursor: pointer;
      padding: 6px 10px;
      border-radius: 10px;
    }
    .icon-btn:hover{ background: rgba(255,255,255,.10); }

    .modal-body{ padding: 16px; }

    .form-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }
    .form-row{ display:flex; flex-direction: column; gap: 6px; }
    label{ font-size: 14px; color: var(--muted); }
    input, select, textarea{
      width: 100%;
      padding: 12px 12px;
      border-radius: 10px;
      border: 1px solid rgba(255,255,255,.15);
      background: rgba(255,255,255,.08);
      color: #fff;
      outline: none;
      font-size: 15px;
    }
    textarea{ min-height: 92px; resize: vertical; }

    input:focus, select:focus, textarea:focus{
      border-color: rgba(34,197,94,.6);
      box-shadow: 0 0 0 3px rgba(34,197,94,.22);
    }

    .form-actions{
      display:flex;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: flex-end;
      margin-top: 14px;
    }

    .status{
      margin-top: 10px;
      padding: 10px 12px;
      border-radius: 12px;
      display: none;
      font-size: 14px;
    }
    .status.ok{ display:block; background: rgba(34,197,94,.18); border: 1px solid rgba(34,197,94,.35); }
    .status.err{ display:block; background: rgba(255,43,43,.14); border: 1px solid rgba(255,43,43,.28); }

    @media (max-width: 900px){
      .grid-2{ grid-template-columns: 1fr; }
      .gallery{ grid-template-columns: repeat(2, 1fr); }
    }
    @media (max-width: 768px) {
      h1 { font-size: 24px; }
      h2 { font-size: 20px; }
      p  { font-size: 16px; }
      .pret-item { flex-direction: column; align-items: flex-start; }
      section, header { margin: 15px 10px; padding: 20px 15px; }
      .sticky-bar{ display:flex; }
      body{ padding-bottom: 68px; }
      .form-grid{ grid-template-columns: 1fr; }
    }
  </style>
</head>

<body>

<header class="hero" id="top">
  <nav class="top-nav" aria-label="NavigaÈ›ie">
    <a href="#servicii">Servicii</a>
    <a href="#preturi">PreÈ›uri</a>
    <a href="#lucrari">LucrÄƒri</a>
    <a href="#recenzii">Recenzii</a>
    <a href="#contact">Contact</a>
    <a href="#zona">Zona</a>
  </nav>

  <h1>Mini Excavator Vaslui â€“ Disponibil Azi</h1>
  <p>Fose septice â€¢ FundaÈ›ii â€¢ È˜anÈ›uri â€¢ LucrÄƒri rapide È™i corecte</p>

  <div class="badges">
    <span class="badge">ğŸ“ Vaslui & Ã®mprejurimi</span>
    <span class="badge">â± RÄƒspundem rapid la telefon/WhatsApp</span>
    <span class="badge">ğŸ’¬ OfertÄƒ pe loc (Ã®n funcÈ›ie de lucrare)</span>
  </div>

  <div class="cta-row">
    <a href="tel:0771460698" class="btn btn-primary" aria-label="SunÄƒ acum la 0771 460 698">ğŸ“ SunÄƒ acum</a>
    <button type="button" class="btn btn-ghost" id="openOfferTop" aria-label="Cere ofertÄƒ prin formular">ğŸ§¾ Cere ofertÄƒ (formular)</button>
  </div>
</header>

<section id="servicii">
  <h2>Serviciile noastre</h2>

  <div class="grid-2">
    <div class="card">
      <ul>
        <li><strong>ExecuÈ›ie fose septice</strong> (cu / fÄƒrÄƒ drenaj)</li>
        <li><strong>FundaÈ›ii</strong> pentru construcÈ›ii</li>
        <li><strong>È˜anÈ›uri pentru utilitÄƒÈ›i</strong> (apÄƒ, canal, cabluri)</li>
        <li><strong>LucrÄƒri cu mini excavator</strong> diverse</li>
      </ul>
    </div>

    <div class="card">
      <h3 style="margin:0 0 10px;">De ce noi</h3>
      <ul>
        <li>LucrÄƒm <strong>rapid</strong> È™i <strong>curat</strong></li>
        <li>PreÈ› <strong>corect</strong> + estimare Ã®nainte</li>
        <li>Ne adaptÄƒm accesului din curte/teren</li>
        <li>ProgramÄƒri flexibile</li>
      </ul>
    </div>
  </div>

  <div class="cta-row">
    <button type="button" class="btn btn-primary" id="openOfferServices">ğŸ§¾ Cere ofertÄƒ (formular)</button>
    <a href="#preturi" class="btn btn-ghost">Vezi preÈ›uri</a>
  </div>
</section>

<section>
  <h2>Mini Excavator Vaslui â€“ servicii profesionale</h2>
  <p>
    Oferim servicii cu mini excavator Ã®n Vaslui È™i localitÄƒÈ›ile din apropiere.
    ExecutÄƒm fose septice cu sau fÄƒrÄƒ drenaj, fundaÈ›ii pentru construcÈ›ii,
    È™anÈ›uri pentru utilitÄƒÈ›i È™i alte lucrÄƒri de sÄƒpÄƒturÄƒ.
    LucrÄƒm rapid, curat È™i la preÈ› corect.
  </p>
  <p style="color:var(--muted); margin-top:10px;">
    Program orientativ: <strong>Luniâ€“SÃ¢mbÄƒtÄƒ 08:00â€“19:00</strong>. (SunÄƒ pentru confirmare.)
  </p>
</section>

<section id="lucrari">
  <h2>LucrÄƒri realizate</h2>

  <div style="max-width:420px; margin:auto;">
    <img id="slider" src="poze/lucrare1.jpg" alt="Lucrare mini excavator Ã®n Vaslui" loading="eager">
  </div>

  <div class="gallery" aria-label="Galerie lucrÄƒri">
    <img src="poze/lucrare1.jpg" alt="Lucrare 1 mini excavator" loading="lazy">
    <img src="poze/lucrare2.jpg" alt="Lucrare 2 mini excavator" loading="lazy">
    <img src="poze/lucrare4.jpg" alt="Lucrare 3 mini excavator" loading="lazy">
    <img src="poze/lucrare5.jpg" alt="Lucrare 4 mini excavator" loading="lazy">
  </div>

  <small>Tip: dacÄƒ vrei sÄƒ creÈ™ti pe Google, poÈ›i face pagini separate pentru fiecare serviciu (fosa-septica.html, santuri.html, fundatii.html).</small>
</section>

<section class="preturi" id="preturi">
  <h2>PreÈ›uri</h2>

  <div class="pret-item">
    <h3>ExcavÄƒri cu mini excavator</h3>
    <span class="pret">150 lei / orÄƒ</span>
  </div>

  <div class="pret-item">
    <h3>FosÄƒ septicÄƒ (2000â€“3500 kg) â€“ fÄƒrÄƒ drenaj</h3>
    <span class="pret">1500 lei</span>
  </div>

  <div class="pret-item">
    <h3>FosÄƒ septicÄƒ (2000â€“3500 kg) â€“ cu drenaj</h3>
    <span class="pret">2500 lei</span>
  </div>

  <small>* PreÈ›urile pot varia Ã®n funcÈ›ie de lucrare È™i accesul la locaÈ›ie.</small>

  <div class="cta-row">
    <a href="tel:0771460698" class="btn btn-primary">ğŸ“ ConfirmÄƒ un preÈ›</a>
    <button type="button" class="btn btn-ghost" id="openOfferPrices">ğŸ§¾ Cere ofertÄƒ (formular)</button>
  </div>
</section>

<section id="recenzii">
  <h2>Ce spun clienÈ›ii</h2>
  <div class="grid-2">
    <div class="card">
      <p style="margin:0;"><strong>â€Rapid È™i curat, a ieÈ™it È™anÈ›ul perfect.â€</strong></p>
      <p style="margin:8px 0 0; color:var(--muted);">â€” Client, Vaslui</p>
    </div>
    <div class="card">
      <p style="margin:0;"><strong>â€PreÈ› corect, comunicare bunÄƒ, recomand.â€</strong></p>
      <p style="margin:8px 0 0; color:var(--muted);">â€” Client, Ã®mprejurimi</p>
    </div>
  </div>
  <small>DacÄƒ ai link de Google Business Profile, Ã®l punem aici pentru recenzii reale + buton â€LasÄƒ o recenzieâ€.</small>
</section>

<section id="contact">
  <h2>Contact</h2>
  <p>Pentru detalii È™i programÄƒri:</p>

  <div class="cta-row">
    <a class="btn btn-primary" href="tel:0771460698" aria-label="SunÄƒ la 0771 460 698">ğŸ“ 0771 460 698</a>
    <button type="button" class="btn btn-ghost" id="openOfferContact" aria-label="Cere ofertÄƒ prin formular">ğŸ§¾ Cere ofertÄƒ (formular)</button>
  </div>

  <small>RÄƒspuns rapid Ã®n timpul programului. DacÄƒ nu rÄƒspundem, revenim.</small>
</section>

<section id="zona">
  <h2>Zona de lucru</h2>
  <p style="color:var(--muted); margin-bottom:10px;">Vaslui + localitÄƒÈ›i din apropiere.</p>
  <div class="map">
    <iframe
      title="HartÄƒ zona de lucru Vaslui"
      src="https://www.google.com/maps/embed?pb=!1m14!1m12!1m3!1d36855.51373695206!2d27.682290092988712!3d46.64054135137226!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!5e0!3m2!1sfr!2sro!4v1770402271904!5m2!1sfr!2sro"
      loading="lazy"
      referrerpolicy="no-referrer-when-downgrade"></iframe>
  </div>
</section>

<footer>
  <p>Â© 2026 MiniExcavator Vaslui | Toate drepturile rezervate</p>
</footer>

<!-- Sticky bar (mobil) -->
<div class="sticky-bar" role="navigation" aria-label="AcÈ›iuni rapide">
  <a href="tel:0771460698" class="btn btn-primary" aria-label="SunÄƒ acum">ğŸ“ SunÄƒ</a>
  <button type="button" class="btn btn-ghost" id="openOfferSticky" aria-label="Cere ofertÄƒ prin formular">ğŸ§¾ OfertÄƒ</button>
</div>

<a href="https://wa.me/40771460698" class="whatsapp-button" target="_blank" rel="noopener" aria-label="Contact WhatsApp">WhatsApp</a>

<!-- ====== MODAL: CERERE OFERTÄ‚ (MVP) ====== -->
<div class="modal-backdrop" id="offerModal" aria-hidden="true">
  <div class="modal" role="dialog" aria-modal="true" aria-labelledby="offerTitle">
    <div class="modal-header">
      <h3 class="modal-title" id="offerTitle">Cere ofertÄƒ</h3>
      <button class="icon-btn" type="button" id="closeOffer" aria-label="Ãnchide">âœ•</button>
    </div>

    <div class="modal-body">
      <form id="offerForm" autocomplete="on">
        <div class="form-grid">
          <div class="form-row">
            <label for="nume">Nume</label>
            <input id="nume" name="nume" type="text" placeholder="Ex: Andrei" />
          </div>

          <div class="form-row">
            <label for="telefon">Telefon (obligatoriu)</label>
            <input id="telefon" name="telefon" type="tel" required placeholder="Ex: 0771 460 698" />
          </div>

          <div class="form-row">
            <label for="localitate">Localitate</label>
            <input id="localitate" name="localitate" type="text" placeholder="Ex: Vaslui / suburbie" />
          </div>

          <div class="form-row">
            <label for="serviciu">Serviciu</label>
            <select id="serviciu" name="serviciu">
              <option value="FosÄƒ septicÄƒ">FosÄƒ septicÄƒ</option>
              <option value="FundaÈ›ie">FundaÈ›ie</option>
              <option value="È˜anÈ› utilitÄƒÈ›i">È˜anÈ› utilitÄƒÈ›i</option>
              <option value="Nivelare / sÄƒpÄƒturÄƒ">Nivelare / sÄƒpÄƒturÄƒ</option>
              <option value="Altceva">Altceva</option>
            </select>
          </div>

          <div class="form-row">
            <label for="lungime">Lungime (m)</label>
            <input id="lungime" name="lungime" type="number" step="0.1" min="0" placeholder="Ex: 20" />
          </div>

          <div class="form-row">
            <label for="latime">LÄƒÈ›ime (m)</label>
            <input id="latime" name="latime" type="number" step="0.1" min="0" placeholder="Ex: 0.5" />
          </div>

          <div class="form-row">
            <label for="adancime">AdÃ¢ncime (m)</label>
            <input id="adancime" name="adancime" type="number" step="0.1" min="0" placeholder="Ex: 1.2" />
          </div>

          <div class="form-row">
            <label for="cand">CÃ¢nd doriÈ›i lucrarea?</label>
            <input id="cand" name="cand" type="text" placeholder="Ex: mÃ¢ine / weekend / data..." />
          </div>
        </div>

        <div class="form-row" style="margin-top:12px;">
          <label for="detalii">Detalii lucrare</label>
          <textarea id="detalii" name="detalii" placeholder="Ex: acces Ã®ngust, teren moale, poartÄƒ 1m, etc."></textarea>
        </div>

        <input type="hidden" id="pageUrl" name="pageUrl" value="">
        <input type="hidden" id="ts" name="ts" value="">

        <div class="form-actions">
          <button type="button" class="btn btn-ghost" id="sendWhatsFallback">Trimite pe WhatsApp</button>
          <button type="submit" class="btn btn-primary" id="submitOffer">Trimite cererea</button>
        </div>

        <div class="status" id="offerStatus" aria-live="polite"></div>
      </form>

      <small style="margin-top:10px;">
        Date insuficiente pentru a verifica: trimiterea cÄƒtre Google Sheets funcÈ›ioneazÄƒ doar dupÄƒ ce setezi endpoint-ul Apps Script.
      </small>
    </div>
  </div>
</div>

<script>
  // ====== Slider ======
  const imagini = [
    "poze/lucrare1.jpg",
    "poze/lucrare2.jpg",
    "poze/lucrare4.jpg",
    "poze/lucrare5.jpg"
  ];
  let index = 0;
  const slider = document.getElementById("slider");
  function prefetchNext(nextSrc){
    const img = new Image();
    img.src = nextSrc;
  }
  prefetchNext(imagini[1]);
  setInterval(() => {
    slider.style.opacity = 0;
    setTimeout(() => {
      index = (index + 1) % imagini.length;
      slider.src = imagini[index];
      const next = imagini[(index + 1) % imagini.length];
      prefetchNext(next);
      slider.style.opacity = 1;
    }, 450);
  }, 3200);

  // ====== MVP OFFER MODAL + SUBMIT TO GOOGLE SHEETS (APPS SCRIPT) ======
  // 1) DupÄƒ deploy Apps Script, pune aici URL-ul Web App (se terminÄƒ de obicei Ã®n /exec)
  const ENDPOINT_URL = "https://script.google.com/macros/s/AKfycbyVNVotaeW1ypfPOUmN8nkwUTOSVwDM6UWj0L6N8msrbGh5TR5JdPOF_3XrjjrLOmVLCA/exec";

  const modal = document.getElementById("offerModal");
  const closeBtn = document.getElementById("closeOffer");
  const form = document.getElementById("offerForm");
  const statusBox = document.getElementById("offerStatus");
  const submitBtn = document.getElementById("submitOffer");
  const pageUrl = document.getElementById("pageUrl");
  const ts = document.getElementById("ts");

  function openModal(){
    modal.classList.add("show");
    modal.setAttribute("aria-hidden", "false");
    pageUrl.value = window.location.href;
    ts.value = new Date().toISOString();
    // focus telefon
    setTimeout(() => document.getElementById("telefon").focus(), 50);
    document.body.style.overflow = "hidden";
  }
  function closeModal(){
    modal.classList.remove("show");
    modal.setAttribute("aria-hidden", "true");
    statusBox.className = "status";
    statusBox.textContent = "";
    document.body.style.overflow = "";
  }

  // Buttons that open modal
  [
    "openOfferTop",
    "openOfferServices",
    "openOfferPrices",
    "openOfferContact",
    "openOfferSticky"
  ].forEach(id => {
    const el = document.getElementById(id);
    if(el) el.addEventListener("click", openModal);
  });

  closeBtn.addEventListener("click", closeModal);
  modal.addEventListener("click", (e) => { if(e.target === modal) closeModal(); });
  document.addEventListener("keydown", (e) => { if(e.key === "Escape" && modal.classList.contains("show")) closeModal(); });

  function toWhatsAppLink(payload){
    const lines = [
      "Cerere ofertÄƒ - Mini Excavator Vaslui",
      payload.serviciu ? ("Serviciu: " + payload.serviciu) : "",
      payload.localitate ? ("Localitate: " + payload.localitate) : "",
      payload.nume ? ("Nume: " + payload.nume) : "",
      payload.telefon ? ("Telefon: " + payload.telefon) : "",
      (payload.lungime || payload.latime || payload.adancime) ? `Dimensiuni: ${payload.lungime||"-"}m x ${payload.latime||"-"}m x ${payload.adancime||"-"}m` : "",
      payload.cand ? ("CÃ¢nd: " + payload.cand) : "",
      payload.detalii ? ("Detalii: " + payload.detalii) : "",
      payload.pageUrl ? ("Link: " + payload.pageUrl) : ""
    ].filter(Boolean).join("\n");
    const text = encodeURIComponent(lines);
    return "https://wa.me/40771460698?text=" + text;
  }

  document.getElementById("sendWhatsFallback").addEventListener("click", () => {
    const data = Object.fromEntries(new FormData(form).entries());
    window.open(toWhatsAppLink(data), "_blank", "noopener");
  });

  <script>
  // ... (restul codului tÄƒu rÄƒmÃ¢ne la fel)

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    statusBox.className = "status";
    statusBox.textContent = "";

    if(!ENDPOINT_URL || ENDPOINT_URL.includes("PASTE_APPS_SCRIPT_WEBAPP_URL_HERE")){
      statusBox.className = "status err";
      statusBox.textContent = "Endpoint neconfigurat. FoloseÈ™te butonul â€Trimite pe WhatsAppâ€.";
      return;
    }

    const fd = new FormData(form);
    const payload = Object.fromEntries(fd.entries());

    // IMPORTANT: trimitem ca application/x-www-form-urlencoded (fÄƒrÄƒ JSON) + no-cors
    const body = new URLSearchParams(payload);

    submitBtn.disabled = true;
    submitBtn.textContent = "Se trimite...";

    try{
      await fetch(ENDPOINT_URL, {
        method: "POST",
        mode: "no-cors",
        body
      });

      statusBox.className = "status ok";
      statusBox.textContent = "Cererea a fost trimisÄƒ. Vei fi contactat(Äƒ) la telefon/WhatsApp.";
      form.reset();
      setTimeout(closeModal, 1200);

    }catch(err){
      statusBox.className = "status err";
      statusBox.textContent = "Eroare la trimitere. FoloseÈ™te â€Trimite pe WhatsAppâ€.";
      console.error(err);

    }finally{
      submitBtn.disabled = false;
      submitBtn.textContent = "Trimite cererea";
    }
  });
</script>


</body>
</html>
";

  const modal = document.getElementById("offerModal");
  const closeBtn = document.getElementById("closeOffer");
  const form = document.getElementById("offerForm");
  const statusBox = document.getElementById("offerStatus");
  const submitBtn = document.getElementById("submitOffer");
  const pageUrl = document.getElementById("pageUrl");
  const ts = document.getElementById("ts");

  function openModal(){
    modal.classList.add("show");
    modal.setAttribute("aria-hidden", "false");
    pageUrl.value = window.location.href;
    ts.value = new Date().toISOString();
    // focus telefon
    setTimeout(() => document.getElementById("telefon").focus(), 50);
    document.body.style.overflow = "hidden";
  }
  function closeModal(){
    modal.classList.remove("show");
    modal.setAttribute("aria-hidden", "true");
    statusBox.className = "status";
    statusBox.textContent = "";
    document.body.style.overflow = "";
  }

  // Buttons that open modal
  [
    "openOfferTop",
    "openOfferServices",
    "openOfferPrices",
    "openOfferContact",
    "openOfferSticky"
  ].forEach(id => {
    const el = document.getElementById(id);
    if(el) el.addEventListener("click", openModal);
  });

  closeBtn.addEventListener("click", closeModal);
  modal.addEventListener("click", (e) => { if(e.target === modal) closeModal(); });
  document.addEventListener("keydown", (e) => { if(e.key === "Escape" && modal.classList.contains("show")) closeModal(); });

  function toWhatsAppLink(payload){
    const lines = [
      "Cerere ofertÄƒ - Mini Excavator Vaslui",
      payload.serviciu ? ("Serviciu: " + payload.serviciu) : "",
      payload.localitate ? ("Localitate: " + payload.localitate) : "",
      payload.nume ? ("Nume: " + payload.nume) : "",
      payload.telefon ? ("Telefon: " + payload.telefon) : "",
      (payload.lungime || payload.latime || payload.adancime) ? `Dimensiuni: ${payload.lungime||"-"}m x ${payload.latime||"-"}m x ${payload.adancime||"-"}m` : "",
      payload.cand ? ("CÃ¢nd: " + payload.cand) : "",
      payload.detalii ? ("Detalii: " + payload.detalii) : "",
      payload.pageUrl ? ("Link: " + payload.pageUrl) : ""
    ].filter(Boolean).join("\n");
    const text = encodeURIComponent(lines);
    return "https://wa.me/40771460698?text=" + text;
  }

  document.getElementById("sendWhatsFallback").addEventListener("click", () => {
    const data = Object.fromEntries(new FormData(form).entries());
    window.open(toWhatsAppLink(data), "_blank", "noopener");
  });

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    statusBox.className = "status";
    statusBox.textContent = "";

    // endpoint not set => force WhatsApp fallback
    if(!ENDPOINT_URL || ENDPOINT_URL.includes("PASTE_APPS_SCRIPT_WEBAPP_URL_HERE")){
      statusBox.className = "status err";
      statusBox.textContent = "Endpoint neconfigurat. FoloseÈ™te butonul â€Trimite pe WhatsAppâ€ sau seteazÄƒ Apps Script.";
      return;
    }

    const fd = new FormData(form);
    const payload = Object.fromEntries(fd.entries());

    submitBtn.disabled = true;
    submitBtn.textContent = "Se trimite...";

    try{
      const res = await fetch(ENDPOINT_URL, {
        method: "POST",
        mode: "cors",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });

      // Apps Script poate rÄƒspunde 200 cu text; tratÄƒm simplu
      if(!res.ok) throw new Error("HTTP " + res.status);

      statusBox.className = "status ok";
      statusBox.textContent = "Cererea a fost trimisÄƒ. Vei fi contactat(Äƒ) la telefon/WhatsApp.";
      form.reset();

      // Ã®nchide dupÄƒ 1.2s
      setTimeout(closeModal, 1200);

    }catch(err){
      statusBox.className = "status err";
      statusBox.textContent = "Eroare la trimitere. FoloseÈ™te â€Trimite pe WhatsAppâ€.";
      // console pentru debug
      console.error(err);
    }finally{
      submitBtn.disabled = false;
      submitBtn.textContent = "Trimite cererea";
    }
  });
</script>

</body>
</html>


